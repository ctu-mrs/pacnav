{ name: simulation, root: ./, startup_window: status, pre_window: export UAV_TYPE=f450; export ODOMETRY_TYPE=gps; export RUN_TYPE=simulation; export WORLD_FILE=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/world_defs/world_gps.yaml; export SENSORS="garmin_down", windows: [ {roscore: {layout: tiled, panes: ['export EPISODE=0; roscore']}}, {gazebo: {layout: tiled, panes: ['export EPISODE=0; waitForRos; roslaunch mrs_simulation simulation.launch gui:=true world_file:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/ros_packages/swarm_gazebo_resources/worlds/grass_plane.world']}}, {rviz: {layout: tiled, panes: ['export EPISODE=0; waitForRos; sleep 2; rviz -d /tmp/swarm_rviz_config.yaml']}}, {status: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; waitForRos; roslaunch mrs_uav_status status.launch', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; waitForRos; roslaunch mrs_uav_status status.launch',]}}, {swarm_controller: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; waitForControl; roslaunch swarm_control_manager swarm_control_manager.launch controller_pkg:=pacnav origin_frame:=local_origin uav_frame:=fcu_untilted', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; waitForControl; roslaunch swarm_control_manager swarm_control_manager.launch controller_pkg:=pacnav origin_frame:=local_origin uav_frame:=fcu_untilted',]}}, {run_swarm_ctrl: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; history -s rosservice call /$UAV_NAME/uav_manager/land; history -s rosservice call /$UAV_NAME/swarm_control_manager/activate_controller; history -s rosservice call /$UAV_NAME/swarm_control_manager/run_controller', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; history -s rosservice call /$UAV_NAME/uav_manager/land; history -s rosservice call /$UAV_NAME/swarm_control_manager/activate_controller; history -s rosservice call /$UAV_NAME/swarm_control_manager/run_controller',]}}, {goto: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; history -s rosservice call /$UAV_NAME/path_finder/path_goto', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; history -s rosservice call /$UAV_NAME/path_finder/path_goto',]}}, {spawn: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; waitForSimulation; sleep 2; rosservice call /mrs_drone_spawner/spawn "$UAV_NUM $UAV_TYPE --pos_file /home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/gazebo_config/init_uav_pose/grass_plane.yaml --enable-rangefinder --enable-rplidar"', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; waitForSimulation; sleep 2; rosservice call /mrs_drone_spawner/spawn "$UAV_NUM $UAV_TYPE --pos_file /home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/gazebo_config/init_uav_pose/grass_plane.yaml --enable-rangefinder --enable-rplidar"',]}}, {control: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; waitForOdometry; roslaunch mrs_uav_general core.launch config_uav_manager:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/uav_sys_config/uav_manager.yaml config_mpc_tracker:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/uav_sys_config/mpc_tracker.yaml config_constraint_manager:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/uav_sys_config/constraint_manager.yaml debug:=true', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; waitForOdometry; roslaunch mrs_uav_general core.launch config_uav_manager:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/uav_sys_config/uav_manager.yaml config_mpc_tracker:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/uav_sys_config/mpc_tracker.yaml config_constraint_manager:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/uav_sys_config/constraint_manager.yaml debug:=true',]}}, {takeoff: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; waitForControl; sleep 2; rosservice call /$UAV_NAME/control_manager/motors 1; rosservice call /$UAV_NAME/mavros/cmd/arming 1; rosservice call /$UAV_NAME/mavros/set_mode 0 offboard; rosservice call /$UAV_NAME/uav_manager/takeoff', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; waitForControl; sleep 2; rosservice call /$UAV_NAME/control_manager/motors 1; rosservice call /$UAV_NAME/mavros/cmd/arming 1; rosservice call /$UAV_NAME/mavros/set_mode 0 offboard; rosservice call /$UAV_NAME/uav_manager/takeoff',]}}, {bumper: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; waitForOdometry; roslaunch mrs_bumper bumper.launch', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; waitForOdometry; roslaunch mrs_bumper bumper.launch',]}}, {shared_gps_aggr: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; waitForControl; roslaunch swarm_utils shared_gps_aggr.launch', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; waitForControl; roslaunch swarm_utils shared_gps_aggr.launch',]}}, {global_origin_tf: {layout: tiled, panes: [ 'export UAV_NUM=1; export LED_FREQ=6; export UAV_NAME=uav1; waitForControl; roslaunch swarm_utils common_tf_pub.launch uav_frame:=fcu origin_frame:=local_origin global_frame:=global_origin init_pose_file:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/gazebo_config/init_uav_pose/grass_plane.yaml', 'export UAV_NUM=2; export LED_FREQ=10; export UAV_NAME=uav2; waitForControl; roslaunch swarm_utils common_tf_pub.launch uav_frame:=fcu origin_frame:=local_origin global_frame:=global_origin init_pose_file:=/home/afzal/user_ros_workspace/src/mrs_swarm_core/simulation/config/gazebo_config/init_uav_pose/grass_plane.yaml',]}},] }
